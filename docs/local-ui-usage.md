# Local UI 使用说明

`Story Me` 本地工作台提供三栏界面：

- 左侧：工作区树（资产/剧本结构、创建入口、拖拽导入）
- 中间：Markdown 编辑器（文档读取与保存）
- 右侧：媒体预览（场次媒体、图片/视频/音频、不支持格式提示）

## 启动

```bash
npm run ui
```

默认地址：`http://127.0.0.1:4173`

可通过环境变量调整：

```bash
STORYME_UI_HOST=127.0.0.1 STORYME_UI_PORT=4173 npm run ui
```

## 基础流程

1. 在顶部输入项目路径，点击“打开项目”。
2. 若是新目录，点击“初始化项目”选择 `script-single` 或 `script-series`。
3. 在左侧树选择 Markdown 文档后，中间进入编辑状态。
4. 点击“保存”将编辑内容写回文件系统。

## 创建操作

- 新建 EP：点击“新建EP”，输入 `1` 或 `EP01`。
- 新建资产：点击“新建资产”，输入 `类型/名称/描述/图像`。

默认资产字段为 `名称`、`描述`、`图像`，符合当前 v1 模型。

## 拖拽导入

将本地文件拖拽到左侧工作区，系统会按当前选中节点推断导入目标：

- `资产/角色` -> 导入到 `角色`
- `资产/场景` -> 导入到 `场景`
- `资产/道具` -> 导入到 `道具`
- `剧本/EPxx/场次/xx.md` -> 导入到对应场次
- `剧本/EPxx` -> 导入到对应 EP

导入完成后会显示成功/失败数量并刷新树与预览。

## 搜索与预览

- 顶部搜索框支持关键字检索 Markdown 内容。
- 场次文档会在右侧显示“参考媒体 + 分镜媒体”。
- 图片/视频/音频会直接预览；不支持格式显示 fallback 提示。

## 说明

- 当前版本为本地单人模式。
- 渲染引擎接口不在此 UI 范围内，后续通过插件模块扩展。
- 后续多人云端协作将基于当前文件模型和 API 契约演进。
